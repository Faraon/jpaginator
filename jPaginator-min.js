(function(d){d.fn.jPaginator=function(m){this.length!=1&&d.error("You must use this plugin with a unique element");var a={selectedPage:1,nbPages:100,length:10,widthPx:30,marginPx:1,overBtnLeft:null,overBtnRight:null,maxBtnLeft:null,maxBtnRight:null,withSlider:!0,withAcceleration:!0,speed:2,coeffAcceleration:2,minSlidesForSlider:3,onPageClicked:null},b={realWid:0,curNum:1,infRel:0,cInfMax:0,cInf:0,nbMove:0,isMoving:!1,isLimitL:!1,isLimitR:!1,listenSlider:!0};return this.each(function(){function p(){g(a.selectedPage-
Math.floor((a.length-1)/2));b.listenSlider=!1;k(b.cInf);b.listenSlider=!0;a.onPageClicked&&a.onPageClicked.call(this,c,a.selectedPage)}function g(e){c.find(".paginator_p.selected").removeClass("selected");var e=Math.min(a.nbPages-a.length+1,e),e=Math.max(1,e),f=e-2;c.find(".paginator_p_bloc .paginator_p").each(function(){f+=1;d(this).html(f);a.selectedPage==f&&d(this).addClass("selected")});c.find(".paginator_p_bloc").css("left","-"+b.realWid+"px");b.curNum=e;b.cInf=(e-1)*b.realWid;b.infRel=0}function k(a){var a=
Math.round(a/b.cInfMax*100),f=c.find(".paginator_slider").slider("option","value");a!=f&&c.find(".paginator_slider").slider("option","value",a)}function q(e,f){if(b.listenSlider&&!b.isMoving){var c=f.value,c=Math.min(100,c),c=Math.max(0,c),d=Math.round(b.cInfMax*c/100)-b.cInf;c==100?g(a.nbPages-a.length+1):c==0?g(1):h(d)}}function h(e){var f=b.infRel+e,d=Math.abs(e)/e*Math.floor(Math.abs(f)/b.realWid);f%=b.realWid;b.infRel=f;var j=(b.curNum-1)*b.realWid+b.infRel,h=b.curNum+d;h<1&&(j=-1);h>a.nbPages&&
(j=b.cInfMax+1);j<0?(g(1),b.cInf=0,b.infRel=0,k(0),b.isLimitL=!0,l()):j>b.cInfMax?(g(a.nbPages),b.cInf=b.cInfMax,b.infRel=0,k(b.cInfMax),b.isLimitR=!0,l()):(b.isLimitL=!1,b.isLimitR=!1,b.cInf=j,e!=0&&(d!=0&&g(h),k(b.cInf),c.find(".paginator_p_bloc").css("left",-1*f-b.realWid+"px")))}function l(){b.nbMove=0;b.isMoving=!1}function n(a){if(!(b.isLimitR&&a=="right")&&!(b.isLimitL&&a=="left")){var c=Math.round(b.cInfMax/10);a=="left"&&(c*=-1);h(c);setTimeout(function(){b.nbMove+=1;n(a)},20)}}function o(c){if(b.isMoving){var d=
Math.min(Math.abs(a.speed),5),g=Math.min(Math.abs(a.coeffAcceleration),5);a.withAcceleration&&(d=Math.round(d+Math.round(g*b.nbMove*b.nbMove/8E4)));c=="left"&&(d*=-1);h(d);setTimeout(function(){b.nbMove+=1;o(c)},10)}}function r(e){e&&d.extend(a,e);c.find(".paginator_p_bloc").html("");for(i=1;i<=a.length+2;i++)c.find(".paginator_p_bloc").append(d("<a class='paginator_p'></a>"));a.length=Math.min(a.length,a.nbPages);a.nbPages<=a.length&&(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide());
if(Math.ceil(a.nbPages/a.length)<a.minSlidesForSlider)a.withSlider=!1;a.withSlider||(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide());var e=0,f=c.find(".paginator_p").first().css("border-left-width");f.indexOf("px")>0&&(e=f.replace("px","")*1);b.realWid=a.widthPx+a.marginPx*2+e*2;e=1*b.realWid*a.length;c.find(".paginator_p").css("width",a.widthPx+"px");c.find(".paginator_p").css("margin","0 "+a.marginPx+"px 0 "+a.marginPx+"px");c.find(".paginator_p_wrap").css("width",
e+"px");c.find(".paginator_slider").css("width",e+"px");b.cInfMax=a.nbPages*b.realWid-a.length*b.realWid;a.selectedPage=Math.min(a.selectedPage,a.nbPages);p(c);c.find(".paginator_p").bind("click.jPaginator",function(){var b=1*d(this).html();c.find(".paginator_p.selected").removeClass("selected");a.selectedPage=b;p()})}var c=d(this);m&&d.extend(a,m);r(m);d(this).bind("reset",function(a,b){r(b);h(1)});a.withSlider&&(c.find(".paginator_slider").slider({animate:!1}),c.find(".paginator_slider").bind("slidechange.jPaginator",
function(a,b){return q(a,b)}),c.find(".paginator_slider").bind("slide.jPaginator",function(a,b){return q(a,b)}));a.overBtnLeft&&d(a.overBtnLeft).bind("mouseenter.jPaginator",function(){d(this);b.isMoving=!0;o("left")});a.overBtnRight&&d(a.overBtnRight).bind("mouseenter.jPaginator",function(){d(this);b.isMoving=!0;o("right")});a.overBtnLeft&&d(a.overBtnLeft).bind("mouseleave.jPaginator",function(){d(this);l()});a.overBtnRight&&d(a.overBtnRight).bind("mouseleave.jPaginator",function(){d(this);l()});
a.maxBtnLeft&&d(a.maxBtnLeft).bind("click.jPaginator",function(){return n("left")});a.maxBtnRight&&d(a.maxBtnRight).bind("click.jPaginator",function(){return n("right")});c.find(".paginator_p").bind("mouseenter.jPaginator",function(){var a=d(this);c.find(".paginator_p.over").removeClass("over");a.addClass("over")});c.find(".paginator_p").bind("mouseleave.jPaginator",function(){d(this);c.find(".paginator_p.over").removeClass("over")})})}})(jQuery);