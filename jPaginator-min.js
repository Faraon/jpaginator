(function(e){e.fn.jPaginator=function(o){this.size()!=1&&e.error("You must use this plugin with a unique element");var d={selectedPage:1,nbPages:100,nbVisible:10,widthPx:30,marginPx:1,overBtnLeft:null,overBtnRight:null,maxBtnLeft:null,maxBtnRight:null,withSlider:!0,withAcceleration:!0,speed:2,coeffAcceleration:2,minSlidesForSlider:3,onPageClicked:null},a={realWid:0,curNum:1,infRel:0,cInfMax:0,cInf:0,nbMove:0,isMoving:!1,isLimitL:!1,isLimitR:!1,listenSlider:!0};return this.each(function(){function p(){h(d.selectedPage-
Math.floor((d.nbVisible-1)/2));a.listenSlider=!1;k(a.cInf);a.listenSlider=!0;d.onPageClicked&&d.onPageClicked.call(this,c,d.selectedPage)}function h(b){c.find(".paginator_p.selected").removeClass("selected");var b=Math.min(d.nbPages-d.nbVisible+1,b),b=Math.max(1,b),f=b-2;c.find(".paginator_p_bloc .paginator_p").each(function(){f+=1;e(this).html(f);d.selectedPage==f&&e(this).addClass("selected")});c.find(".paginator_p_bloc").css("left","-"+a.realWid+"px");a.curNum=b;a.cInf=(b-1)*a.realWid;a.infRel=
0}function k(b){var b=Math.round(b/a.cInfMax*100),f=c.find(".paginator_slider").slider("option","value");b!=f&&c.find(".paginator_slider").slider("option","value",b)}function q(b,f){if(a.listenSlider&&!a.isMoving){var c=f.value,c=Math.min(100,c),c=Math.max(0,c),e=Math.round(a.cInfMax*c/100)-a.cInf;c==100?h(d.nbPages-d.nbVisible+1):c==0?h(1):g(e)}}function g(b){var f=a.infRel+b,e=Math.abs(b)/b*Math.floor(Math.abs(f)/a.realWid);f%=a.realWid;a.infRel=f;var j=(a.curNum-1)*a.realWid+a.infRel,g=a.curNum+
e;g<1&&(j=-1);g>d.nbPages&&(j=a.cInfMax+1);j<0?(h(1),a.cInf=0,a.infRel=0,k(0),a.isLimitL=!0,l()):j>a.cInfMax?(h(d.nbPages),a.cInf=a.cInfMax,a.infRel=0,k(a.cInfMax),a.isLimitR=!0,l()):(a.isLimitL=!1,a.isLimitR=!1,a.cInf=j,b!=0&&(e!=0&&h(g),k(a.cInf),c.find(".paginator_p_bloc").css("left",-1*f-a.realWid+"px")))}function l(){a.nbMove=0;a.isMoving=!1}function m(b){if(!(a.isLimitR&&b=="right")&&!(a.isLimitL&&b=="left")){var c=Math.round(a.cInfMax/10);b=="left"&&(c*=-1);g(c);setTimeout(function(){a.nbMove+=
1;m(b)},20)}}function n(b){if(a.isMoving){var c=Math.min(Math.abs(d.speed),5),e=Math.min(Math.abs(d.coeffAcceleration),5);d.withAcceleration&&(c=Math.round(c+Math.round(e*a.nbMove*a.nbMove/8E4)));b=="left"&&(c*=-1);g(c);setTimeout(function(){a.nbMove+=1;n(b)},10)}}function r(b){c.find(".paginator_p_bloc > .paginator_p").remove();for(i=1;i<=b.nbVisible+2;i++)c.find(".paginator_p_bloc").append(e("<a class='paginator_p'></a>"));b.nbVisible=Math.min(b.nbVisible,b.nbPages);b.nbPages<=b.nbVisible&&(c.find(".paginator_slider").hide(),
c.find(".paginator_slider").children().hide());var f=b.withSlider;(f=Math.ceil(b.nbPages/b.nbVisible)<b.minSlidesForSlider?!1:b.withSlider)?(c.find(".paginator_slider").show(),c.find(".paginator_slider").children().show()):(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide());var f=0,g=c.find(".paginator_p").first().css("border-left-width");g.indexOf("px")>0&&(f=g.replace("px","")*1);a.realWid=b.widthPx+b.marginPx*2+f*2;f=1*a.realWid*b.nbVisible;c.find(".paginator_p").css("width",
b.widthPx+"px");c.find(".paginator_p").css("margin","0 "+b.marginPx+"px 0 "+b.marginPx+"px");c.find(".paginator_p_wrap").css("width",f+"px");c.find(".paginator_slider").css("width",f+"px");a.cInfMax=b.nbPages*a.realWid-b.nbVisible*a.realWid;b.selectedPage=Math.min(b.selectedPage,b.nbPages);p(c);c.find(".paginator_p").bind("click.jPaginator",function(){var b=1*e(this).html();c.find(".paginator_p.selected").removeClass("selected");d.selectedPage=b;p()})}var c=e(this);o&&e.extend(d,o);r(d);e(this).bind("reset",
function(b,a){e.extend(d,a);r(d);g(1)});d.withSlider&&(c.find(".paginator_slider").slider({animate:!1}),c.find(".paginator_slider").bind("slidechange.jPaginator",function(b,a){return q(b,a)}),c.find(".paginator_slider").bind("slide.jPaginator",function(b,a){return q(b,a)}));d.overBtnLeft&&e(d.overBtnLeft).bind("mouseenter.jPaginator",function(){e(this);a.isMoving=!0;n("left")});d.overBtnRight&&e(d.overBtnRight).bind("mouseenter.jPaginator",function(){e(this);a.isMoving=!0;n("right")});d.overBtnLeft&&
e(d.overBtnLeft).bind("mouseleave.jPaginator",function(){e(this);l()});d.overBtnRight&&e(d.overBtnRight).bind("mouseleave.jPaginator",function(){e(this);l()});d.maxBtnLeft&&e(d.maxBtnLeft).bind("click.jPaginator",function(){return m("left")});d.maxBtnRight&&e(d.maxBtnRight).bind("click.jPaginator",function(){return m("right")});c.find(".paginator_p").bind("mouseenter.jPaginator",function(){var a=e(this);c.find(".paginator_p.over").removeClass("over");a.addClass("over")});c.find(".paginator_p").bind("mouseleave.jPaginator",
function(){e(this);c.find(".paginator_p.over").removeClass("over")})})}})(jQuery);