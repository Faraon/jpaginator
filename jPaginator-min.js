(function(d){d.fn.jPaginator=function(n){this.length!=1&&d.error("You must use this plugin with a unique element");var a={selectedPage:1,nbPages:100,length:10,widthPx:30,marginPx:1,withSlider:!0,withMaxButton:!0,withAcceleration:!0,speed:2,coeffAcceleration:2,minSlidesForSlider:3,onPageClicked:null},b={realWid:0,curNum:1,infRel:0,cInfMax:0,cInf:0,nbMove:0,isMoving:!1,isLimitL:!1,isLimitR:!1,listenSlider:!0};return this.each(function(){function o(){j(a.selectedPage-Math.floor((a.length-1)/2));b.listenSlider=
!1;k(b.cInf);b.listenSlider=!0;a.onPageClicked&&a.onPageClicked.call(this,c,a.selectedPage)}function j(e){c.find(".paginator_p.selected").removeClass("selected");var e=Math.min(a.nbPages-a.length+1,e),e=Math.max(1,e),g=e-2;c.find(".paginator_p_bloc .paginator_p").each(function(){g+=1;d(this).html(g);a.selectedPage==g&&d(this).addClass("selected")});c.find(".paginator_p_bloc").css("left","-"+b.realWid+"px");b.curNum=e;b.cInf=(e-1)*b.realWid;b.infRel=0}function k(a){var a=Math.round(a/b.cInfMax*100),
g=c.find(".paginator_slider").slider("option","value");a!=g&&c.find(".paginator_slider").slider("option","value",a)}function p(e,c){if(b.listenSlider&&!b.isMoving){var d=c.value,d=Math.min(100,d),d=Math.max(0,d),h=Math.round(b.cInfMax*d/100)-b.cInf;d==100?j(a.nbPages-a.length+1):d==0?j(1):l(h)}}function l(e){var g=b.infRel+e,d=Math.abs(e)/e*Math.floor(Math.abs(g)/b.realWid);g%=b.realWid;b.infRel=g;var h=(b.curNum-1)*b.realWid+b.infRel,f=b.curNum+d;f<1&&(h=-1);f>a.nbPages&&(h=b.cInfMax+1);h<0?(j(1),
b.cInf=0,b.infRel=0,k(0),b.isLimitL=!0,m()):h>b.cInfMax?(j(a.nbPages),b.cInf=b.cInfMax,b.infRel=0,k(b.cInfMax),b.isLimitR=!0,m()):(b.isLimitL=!1,b.isLimitR=!1,b.cInf=h,e!=0&&(d!=0&&j(f),k(b.cInf),c.find(".paginator_p_bloc").css("left",-1*g-b.realWid+"px")))}function m(){b.nbMove=0;b.isMoving=!1}function q(a){if(!(b.isLimitR&&a=="right")&&!(b.isLimitL&&a=="left")){var c=Math.round(b.cInfMax/10);a=="left"&&(c*=-1);l(c);setTimeout(function(){b.nbMove+=1;q(a)},20)}}function r(c){if(b.isMoving){var d=
Math.min(Math.abs(a.speed),5),f=Math.min(Math.abs(a.coeffAcceleration),5);a.withAcceleration&&(d=Math.round(d+Math.round(f*b.nbMove*b.nbMove/8E4)));c=="left"&&(d*=-1);l(d);setTimeout(function(){b.nbMove+=1;r(c)},10)}}var c=d(this);n&&d.extend(a,n);for(i=1;i<=a.length+2;i++)c.find(".paginator_p_bloc").append(d("<div class='paginator_p'></div>"));a.length=Math.min(a.length,a.nbPages);var s=!0;a.nbPages<=a.length&&(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide(),c.find(".paginator_bmax").hide(),
c.find(".paginator_b").hide(),s=!1);if(Math.ceil(a.nbPages/a.length)<a.minSlidesForSlider)a.withSlider=!1;a.withSlider||(c.find(".paginator_slider").hide(),c.find(".paginator_slider").children().hide());a.withMaxButton||c.find(".paginator_bmax").hide();var f=0,t=c.find(".paginator_p").first().css("border-left-width");t.indexOf("px")>0&&(f=t.replace("px","")*1);b.realWid=a.widthPx+a.marginPx*2+f*2;f=1*b.realWid*a.length;c.find(".paginator_p").css("width",a.widthPx+"px");c.find(".paginator_p").css("margin",
"0 "+a.marginPx+"px 0 "+a.marginPx+"px");c.find(".paginator_p_wrap").css("width",f+"px");c.find(".paginator_slider").css("width",f+"px");b.cInfMax=a.nbPages*b.realWid-a.length*b.realWid;a.selectedPage=Math.min(a.selectedPage,a.nbPages);o(c);c.find(".paginator_p").bind("click.jPaginator",function(){var b=1*d(this).html();c.find(".paginator_p.selected").removeClass("selected");a.selectedPage=b;o()});a.withSlider&&(c.find(".paginator_slider").slider({animate:!1}),c.find(".paginator_slider").bind("slidechange.jPaginator",
function(b,a){return p(b,a)}),c.find(".paginator_slider").bind("slide.jPaginator",function(b,a){return p(b,a)}));s&&(c.find(".paginator_b").bind("mouseenter.jPaginator",function(){var a="left";d(this).hasClass("right")&&(a="right");b.isMoving=!0;r(a)}),c.find(".paginator_b").bind("mouseleave.jPaginator",function(){d(this);m()}));a.withMaxButton&&c.find(".paginator_bmax").bind("click.jPaginator",function(){var a="left";d(this).hasClass("right")&&(a="right");q(a)});c.find(".paginator_p").bind("mouseenter.jPaginator",
function(){var a=d(this);c.find(".paginator_p.hover").removeClass("hover");a.addClass("hover")});c.find(".paginator_p").bind("mouseleave.jPaginator",function(){d(this);c.find(".paginator_p.hover").removeClass("hover")})})}})(jQuery);