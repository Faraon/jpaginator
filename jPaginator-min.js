(function(c){c.fn.jPaginator=function(o){this.size()!=1&&c.error("You must use this plugin with a unique element");var d={selectedPage:1,nbPages:100,nbVisible:10,widthPx:30,marginPx:1,overBtnLeft:null,overBtnRight:null,maxBtnLeft:null,maxBtnRight:null,withSlider:!0,withAcceleration:!0,speed:2,coeffAcceleration:2,minSlidesForSlider:3,onPageClicked:null},a={realWid:0,curNum:1,infRel:0,cInfMax:0,cInf:0,nbMove:0,isMoving:!1,isLimitL:!1,isLimitR:!1,listenSlider:!0};return this.each(function(){function p(){j(d.selectedPage-
Math.floor((d.nbVisible-1)/2));a.listenSlider=!1;k(a.cInf);a.listenSlider=!0;d.onPageClicked&&d.onPageClicked.call(this,e,d.selectedPage)}function j(b){e.find(".paginator_p.selected").removeClass("selected");var b=Math.min(d.nbPages-d.nbVisible+1,b),b=Math.max(1,b),g=b-2;e.find(".paginator_p_bloc .paginator_p").each(function(){g+=1;c(this).html(g);d.selectedPage==g&&c(this).addClass("selected")});e.find(".paginator_p_bloc").css("left","-"+a.realWid+"px");a.curNum=b;a.cInf=(b-1)*a.realWid;a.infRel=
0}function k(b){var b=Math.round(b/a.cInfMax*100),d=e.find(".paginator_slider").slider("option","value");b!=d&&e.find(".paginator_slider").slider("option","value",b)}function q(b,e){if(a.listenSlider&&!a.isMoving){var c=e.value,c=Math.min(100,c),c=Math.max(0,c),h=Math.round(a.cInfMax*c/100)-a.cInf;c==100?j(d.nbPages-d.nbVisible+1):c==0?j(1):f(h)}}function f(b){var c=a.infRel+b,r=Math.abs(b)/b*Math.floor(Math.abs(c)/a.realWid);c%=a.realWid;a.infRel=c;var h=(a.curNum-1)*a.realWid+a.infRel,f=a.curNum+
r;f<1&&(h=-1);f>d.nbPages&&(h=a.cInfMax+1);h<0?(j(1),a.cInf=0,a.infRel=0,k(0),a.isLimitL=!0,l()):h>a.cInfMax?(j(d.nbPages),a.cInf=a.cInfMax,a.infRel=0,k(a.cInfMax),a.isLimitR=!0,l()):(a.isLimitL=!1,a.isLimitR=!1,a.cInf=h,b!=0&&(r!=0&&j(f),k(a.cInf),e.find(".paginator_p_bloc").css("left",-1*c-a.realWid+"px")))}function l(){a.nbMove=0;a.isMoving=!1}function m(b){if(!(a.isLimitR&&b=="right")&&!(a.isLimitL&&b=="left")){var c=Math.round(a.cInfMax/10);b=="left"&&(c*=-1);f(c);setTimeout(function(){a.nbMove+=
1;m(b)},20)}}function n(b){if(a.isMoving){var c=Math.min(Math.abs(d.speed),5),e=Math.min(Math.abs(d.coeffAcceleration),5);d.withAcceleration&&(c=Math.round(c+Math.round(e*a.nbMove*a.nbMove/8E4)));b=="left"&&(c*=-1);f(c);setTimeout(function(){a.nbMove+=1;n(b)},10)}}function s(b){e.find(".paginator_p_bloc > .paginator_p").remove();for(i=1;i<=b.nbVisible+2;i++)e.find(".paginator_p_bloc").append(c("<a class='paginator_p'></a>"));b.nbVisible=Math.min(b.nbVisible,b.nbPages);b.nbPages<=b.nbVisible&&(e.find(".paginator_slider").hide(),
e.find(".paginator_slider").children().hide());b.withSlider=Math.ceil(b.nbPages/b.nbVisible)<b.minSlidesForSlider?!1:!0;b.withSlider?(e.find(".paginator_slider").show(),e.find(".paginator_slider").children().show()):(e.find(".paginator_slider").hide(),e.find(".paginator_slider").children().hide());var g=0,f=e.find(".paginator_p").first().css("border-left-width");f.indexOf("px")>0&&(g=f.replace("px","")*1);a.realWid=b.widthPx+b.marginPx*2+g*2;g=1*a.realWid*b.nbVisible;e.find(".paginator_p").css("width",
b.widthPx+"px");e.find(".paginator_p").css("margin","0 "+b.marginPx+"px 0 "+b.marginPx+"px");e.find(".paginator_p_wrap").css("width",g+"px");e.find(".paginator_slider").css("width",g+"px");a.cInfMax=b.nbPages*a.realWid-b.nbVisible*a.realWid;b.selectedPage=Math.min(b.selectedPage,b.nbPages);p(e);e.find(".paginator_p").bind("click.jPaginator",function(){var b=1*c(this).html();e.find(".paginator_p.selected").removeClass("selected");d.selectedPage=b;p()})}var e=c(this);o&&c.extend(d,o);s(d);c(this).bind("reset",
function(b,a){c.extend(d,a);s(d);f(1)});d.withSlider&&(e.find(".paginator_slider").slider({animate:!1}),e.find(".paginator_slider").bind("slidechange.jPaginator",function(b,a){return q(b,a)}),e.find(".paginator_slider").bind("slide.jPaginator",function(b,a){return q(b,a)}));d.overBtnLeft&&c(d.overBtnLeft).bind("mouseenter.jPaginator",function(){c(this);a.isMoving=!0;n("left")});d.overBtnRight&&c(d.overBtnRight).bind("mouseenter.jPaginator",function(){c(this);a.isMoving=!0;n("right")});d.overBtnLeft&&
c(d.overBtnLeft).bind("mouseleave.jPaginator",function(){c(this);l()});d.overBtnRight&&c(d.overBtnRight).bind("mouseleave.jPaginator",function(){c(this);l()});d.maxBtnLeft&&c(d.maxBtnLeft).bind("click.jPaginator",function(){return m("left")});d.maxBtnRight&&c(d.maxBtnRight).bind("click.jPaginator",function(){return m("right")});e.find(".paginator_p").bind("mouseenter.jPaginator",function(){var a=c(this);e.find(".paginator_p.over").removeClass("over");a.addClass("over")});e.find(".paginator_p").bind("mouseleave.jPaginator",
function(){c(this);e.find(".paginator_p.over").removeClass("over")})})}})(jQuery);